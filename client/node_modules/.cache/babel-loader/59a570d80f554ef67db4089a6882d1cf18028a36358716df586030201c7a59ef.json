{"ast":null,"code":"import React,{useEffect}from'react';import{useParams}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{fetchProjectById,fetchProjectsByWorkspace}from'../features/project/projectSlice';import FolderTree from'../features/project/FolderTree';import PathwayList from'../features/pathway/PathwayList';import{fetchPathwaysByProject}from'../features/pathway/pathwaySlice';/**\n * @description Main page for viewing a project (folder). Fetches project data based on the URL parameter.\n * Renders the FolderTree and PathwayList components.\n * @returns {JSX.Element} - The project view page.\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectViewPage=()=>{const{projectId}=useParams();const dispatch=useDispatch();const{currentProject,status,error}=useSelector(state=>state.project);const{pathways,status:pathwayStatus,error:pathwayError}=useSelector(state=>state.pathway);const{user}=useSelector(state=>state.auth);useEffect(()=>{if(projectId){dispatch(fetchProjectById(projectId));}},[projectId,dispatch]);useEffect(()=>{if(currentProject&&currentProject._id){dispatch(fetchPathwaysByProject(currentProject._id));}},[currentProject,dispatch]);useEffect(()=>{if(user&&user.defaultWorkspace){dispatch(fetchProjectsByWorkspace(user.defaultWorkspace));}},[user,dispatch]);if(status==='loading'){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading projects...\"});}if(status==='failed'){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-4\",children:\"Project View Page\"}),currentProject&&/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl mb-4\",children:[\"Current Project: \",currentProject.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1/4 border-r pr-4\",children:/*#__PURE__*/_jsx(FolderTree,{workspaceId:user?user.defaultWorkspace:null,currentProjectId:projectId,onProjectSelect:id=>console.log('Project selected:',id)// Placeholder\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3/4 pl-5\",children:/*#__PURE__*/_jsx(PathwayList,{pathways:pathways})})]})]});};export default ProjectViewPage;","map":{"version":3,"names":["React","useEffect","useParams","useDispatch","useSelector","fetchProjectById","fetchProjectsByWorkspace","FolderTree","PathwayList","fetchPathwaysByProject","jsx","_jsx","jsxs","_jsxs","ProjectViewPage","projectId","dispatch","currentProject","status","error","state","project","pathways","pathwayStatus","pathwayError","pathway","user","auth","_id","defaultWorkspace","children","className","name","workspaceId","currentProjectId","onProjectSelect","id","console","log"],"sources":["/Users/aunogarafat/Downloads/Learning Management System/client/src/pages/ProjectViewPage.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchProjectById, fetchProjectsByWorkspace } from '../features/project/projectSlice';\nimport FolderTree from '../features/project/FolderTree';\nimport PathwayList from '../features/pathway/PathwayList';\nimport { fetchPathwaysByProject } from '../features/pathway/pathwaySlice';\n\n/**\n * @description Main page for viewing a project (folder). Fetches project data based on the URL parameter.\n * Renders the FolderTree and PathwayList components.\n * @returns {JSX.Element} - The project view page.\n */\nconst ProjectViewPage = () => {\n  const { projectId } = useParams();\n  const dispatch = useDispatch();\n  const { currentProject, status, error } = useSelector((state) => state.project);\n  const { pathways, status: pathwayStatus, error: pathwayError } = useSelector((state) => state.pathway);\n  const { user } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    if (projectId) {\n      dispatch(fetchProjectById(projectId));\n    }\n  }, [projectId, dispatch]);\n\n  useEffect(() => {\n    if (currentProject && currentProject._id) {\n      dispatch(fetchPathwaysByProject(currentProject._id));\n    }\n  }, [currentProject, dispatch]);\n\n  useEffect(() => {\n    if (user && user.defaultWorkspace) {\n      dispatch(fetchProjectsByWorkspace(user.defaultWorkspace));\n    }\n  }, [user, dispatch]);\n\n  if (status === 'loading') {\n    return <div>Loading projects...</div>;\n  }\n\n  if (status === 'failed') {\n    return <div>Error: {error}</div>;\n  }\n\n  return (\n    <div className=\"container mx-auto mt-8\">\n      <h1 className=\"text-3xl font-bold mb-4\">Project View Page</h1>\n      {currentProject && <h2 className=\"text-2xl mb-4\">Current Project: {currentProject.name}</h2>}\n      <div className=\"flex\">\n        <div className=\"w-1/4 border-r pr-4\">\n          <FolderTree\n            workspaceId={user ? user.defaultWorkspace : null}\n            currentProjectId={projectId}\n            onProjectSelect={(id) => console.log('Project selected:', id)} // Placeholder\n          />\n        </div>\n        <div className=\"w-3/4 pl-5\">\n          <PathwayList pathways={pathways} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectViewPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}